<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover" />
  <title>La nostra storia ‚Äî Elpidio & Cecilia</title>
  <meta name="description" content="La storia di Elpidio e Cecilia" />
  <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />
  <meta name="googlebot" content="noindex, nofollow" />
  <meta name="bingbot" content="noindex, nofollow" />
  <meta name="slurp" content="noindex, nofollow" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Imperial+Script&family=Playfair+Display:wght@600;700&family=Marcellus&family=Montserrat:wght@500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <style>
    :root {
      --pearl-white: #FAF9F6;
      --nav-text: #222222;
      --panel-bg: rgba(255, 248, 240, 0.7);
      --panel-border: rgba(0,0,0,0.12);
      --shadow: 0 18px 50px rgba(0,0,0,0.08);
      --btn-bg: rgba(255,255,255,0.95);
      --btn-border: rgba(0,0,0,0.20);
      --btn-hover: rgba(0,0,0,0.05);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    
    /* MAIN CONTENT */
    .container {
      max-width: min(900px, 92vw);
      margin: 100px auto 40px;
      padding: 0 20px;
    }
    .story-card {
      background: var(--panel-bg);
      border: 1px solid var(--panel-border);
      border-radius: 24px;
      padding: clamp(30px, 5vw, 50px);
      box-shadow: var(--shadow);
    }
    .story-card h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(36px, 5vw, 48px);
      margin: 0 0 20px;
      color: #111111;
    }
    .story-section {
      margin-bottom: 30px;
    }
    .story-section h2 {
      font-family: 'EB Garamond', serif;
      font-size: 24px;
      color: #222;
      margin: 0 0 10px;
    }
    .story-section p {
      line-height: 1.7;
      color: #444;
      margin: 0 0 15px;
    }
    .photo-container {
      width: 100%;
      border-radius: 16px;
      display: grid;
      place-items: center;
      color: #888;
      font-style: italic;
      margin: 20px 0;
      overflow: hidden;
      position: relative;
      background: rgba(255, 248, 240, 0.7);
      min-height: 200px;
      max-height: 500px;
    }
    .story-img {
      width: 100%;
      height: auto;
      max-height: 500px;
      object-fit: contain;
      display: none;
      border-radius: 12px;
    }
    .photo-placeholder-text {
      padding: 20px;
      text-align: center;
    }
    .back-btn {
      display: inline-block;
      margin-top: 30px;
      padding: 12px 24px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.12);
  background: rgba(255, 248, 240, 0.7);
  color: #222;
      font-weight: 700;
      text-decoration: none;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
      transition: all 0.2s ease;
    }
    .back-btn:hover {
      transform: translateY(-2px);
      background: var(--btn-hover);
      box-shadow: 0 12px 25px rgba(0,0,0,0.1);
    }
    footer {
      text-align: center;
      padding: 30px 20px;
      font-size: 12px;
      opacity: 0.6;
      color: #666;
    }
  /* üåü TUTTA LA PAGINA in EB Garamond, tranne il titolo principale */
body, body * {
  font-family: 'EB Garamond', serif;
}
  /* üìè PARAGRAFI E TESTI PI√ô GRANDI */
.story-section p,
.photo-placeholder-text,
.back-btn,
footer p,
p {
  font-size: 22px;
  line-height: 1.7;
}

/* üì± Su mobile */
@media (max-width: 768px) {
  .story-section p,
  .photo-placeholder-text,
  .back-btn,
  footer p,
  p {
    font-size: 20px;
  }
}
  </style>
</head>
<body>

  <!-- NAVBAR CON HAMBURGER MENU -->
  <nav class="nav">
    <div class="logo-badge" aria-label="Logo E e C">E&amp;C</div>
    
    <!-- Hamburger menu button (mobile only) -->
    <button class="hamburger" id="hamburger" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    
    <!-- Navigation links -->
    <div class="navlinks" id="navlinks">
  <a href="index.html">Home</a>
      <a href="rsvp.html">RSVP</a>
  <a href="cerimonia-ricevimento.html">Cerimonia & Ricevimento</a>
  <a href="storia.html">La nostra storia</a>
  <a href="gallery.html">Gallery</a>
  <a href="lista-nozze.html">Lista Nozze</a>
    <a href="contatti.html">Contatti</a>
</div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="container">
    <div class="story-card">
      <h1>La nostra storia</h1>
      
      <div class="story-section">
        <p>Tutto inizi√≤ nel lontano 1995, il nostro primo incontro sui banchi di scuola. Da ingenui fanciulli non sapevamo molto l'una dell'altro ma sicuramente ci saremmo ricordati dei nostri nomi. Finito l'esame di quinta elementare ognuno prese la propria strada.</p>
        <div class="photo-container" id="photo-container-1">
          <img class="story-img" id="story-img-1" alt="I nostri primi anni di scuola">
          <div class="photo-placeholder-text" id="placeholder-1">I nostri primi anni di scuola</div>
        </div>
      </div>

      <div class="story-section">
        <p>Senza saperlo e quasi senza mai vederci scoprimmo di aver fatto lo stesso Liceo, ma il destino aveva deciso che non era ancora il momento di notarci.  Con l'universit√† le strade si sfiorarono ancora poich√© facolt√† diverse ma stesso dipartimento a Parma, mai incrociati! 
Solo nel 2016 in una storica rimpatriata di classe con la nostra mitica maestra Mina ci ritrovammo cresciuti, cambiati pi√π spavaldi e l√¨ ci scambiammo i numeri di telefono. Non fu quella l'occasione in cui i nostri cuori iniziarono a battere‚Ä¶
</p>
        <div class="photo-container" id="photo-container-2">
          <img class="story-img" id="story-img-2" alt="Il nostro amore quotidiano">
          <div class="photo-placeholder-text" id="placeholder-2">Il nostro amore quotidiano</div>
        </div>
      </div>

      <div class="story-section">
        <p>Nulla successe fino all‚Äôanno del ‚Äúlockdown‚Äù. Nel 2019 Elpi ritorn√≤ a Piacenza, Cecilia interruppe l‚Äôattivit√† agonistica di pattinaggio.  Fu proprio in quel momento che si verific√≤ ci√≤ che il destino aveva gi√† pianificato da tempo per noi. 
Ci fu una seconda reunion con gli amici delle elementari per rivivere con allegria esperienze passate: l√¨ Cupido scocc√≤ la sua freccia infallibile. 
Come in una favola inizi√≤ la storia pi√π incredibile che si possa immaginare: ‚Äúdue conoscenti perfettamente sconosciuti iniziarono a conoscersi‚Äù‚Ä¶. non entriamo nei dettagli‚Ä¶
</p>
        <div class="photo-container" id="photo-container-3">
          <img class="story-img" id="story-img-3" alt="Il momento magico della proposta">
          <div class="photo-placeholder-text" id="placeholder-3">Il momento magico della proposta</div>
        </div>
      </div>

      <div class="story-section">
        <p>Dopo 5 anni durante una tranquilla gita in barca nelle onde del mar greco dove nacque Venere (mare in burrasca, √†ncora incagliata negli scogli, rischio attacco di squali, bloccati dalla guardia costiera, tramonto dietro le montagne e disagi persistenti‚Ä¶) lo scatolino sopravvissuto all‚Äôinevitabile naufragio raggiunse miracolosamente il suo obiettivo: la mia mano sinistra.</p>
        <div class="photo-container" id="photo-container-4">
          <img class="story-img" id="story-img-4" alt="Verso il nostro futuro">
          <div class="photo-placeholder-text" id="placeholder-4">Verso il nostro futuro</div>
        </div>
      </div>

      <div class="story-section">
        <p>To be continued‚Ä¶</p>
        </div>
      </div>
      <a href="index.html" class="back-btn">‚Üê Torna alla Home</a>
    </div>
  </main>

  <footer>¬© <span id="year"></span> Elpidio &amp; Cecilia</footer>

  <!-- BACK TO TOP BUTTON -->
  <button class="back-to-top" id="backToTop" aria-label="Torna all'inizio" title="Torna su">‚ñ≤</button>

  <script>
    // Anno corrente
    document.getElementById('year').textContent = new Date().getFullYear();

    // Menu hamburger mobile
    const hamburger = document.getElementById('hamburger');
    const navlinks = document.getElementById('navlinks');
    
    if (hamburger && navlinks) {
      hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        navlinks.classList.toggle('active');
        
        document.querySelectorAll('.navlinks a').forEach(link => {
          link.addEventListener('click', () => {
            hamburger.classList.remove('active');
            navlinks.classList.remove('active');
          });
        });
      });
      
      document.addEventListener('click', (e) => {
        if (!hamburger.contains(e.target) && !navlinks.contains(e.target)) {
          hamburger.classList.remove('active');
          navlinks.classList.remove('active');
        }
      });
    }

    // Back to top
    const backBtn = document.getElementById('backToTop');
    const toggleBackBtn = () => {
      if (!backBtn) return;
      if (window.scrollY > 300) backBtn.classList.add('show');
      else backBtn.classList.remove('show');
    };
    toggleBackBtn();
    window.addEventListener('scroll', toggleBackBtn);
    if (backBtn) backBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Funzione per caricare immagini con diversi formati
    function loadImageWithFallback(baseName, imgElement, placeholderElement) {
      const imageFormats = [
        'jpg', 'JPG', 'jpeg', 'JPEG', 'png', 'PNG', 
        'webp', 'WEBP', 'heic', 'HEIC', 'gif', 'GIF',
        'bmp', 'BMP', 'tiff', 'TIFF'
      ];
      
      // Funzione per testare se un'immagine esiste
      function testImage(src) {
        return new Promise((resolve) => {
          const img = new Image();
          img.onload = () => {
            console.log(`‚úÖ Immagine trovata: ${src}`);
            resolve(src);
          };
          img.onerror = () => {
            console.log(`‚ùå Immagine non trovata: ${src}`);
            resolve(null);
          };
          img.src = src;
        });
      }
      
      // Testa tutte le estensioni in ordine
      async function findImage() {
        for (const format of imageFormats) {
          const src = `${baseName}.${format}`;
          try {
            const result = await testImage(src);
            if (result) {
              // TROVATA! Mostra l'immagine
              imgElement.src = result;
              imgElement.style.display = 'block';
              
              // Nascondi il testo del placeholder
              if (placeholderElement) {
                placeholderElement.style.display = 'none';
              }
              
              // Adatta il contenitore all'immagine
              const container = imgElement.parentElement;
              if (container) {
                container.style.background = 'none';
                container.style.minHeight = 'auto';
              }
              
              return true;
            }
          } catch (e) {
            console.log(`Errore nel caricamento: ${src}`, e);
          }
        }
        
        // Se nessuna immagine viene trovata, mantieni il placeholder
        console.warn(`‚ö†Ô∏è Nessuna immagine trovata per: ${baseName}`);
        return false;
      }
      
      // Esegui la ricerca dell'immagine
      findImage();
    }

    // Carica le immagini per ogni sezione quando il DOM √® pronto
    document.addEventListener('DOMContentLoaded', function() {
      // Mappa dei nomi base delle immagini per ogni sezione
      const imageBaseNames = [
        'immaginestoria1',
        'immaginestoria2', 
        'immaginestoria3',
        'immaginestoria4'
      ];
      
      // Per ogni sezione, cerca l'immagine
      for (let i = 0; i < 4; i++) {
        const imgElement = document.getElementById(`story-img-${i+1}`);
        const placeholderElement = document.getElementById(`placeholder-${i+1}`);
        if (imgElement) {
          loadImageWithFallback(imageBaseNames[i], imgElement, placeholderElement);
        }
      }
    });
  </script>
  <script src="auth-check.js"></script>
</body>
</html>
